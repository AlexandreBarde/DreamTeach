{% extends 'base.html.twig' %}

{% block title %}Profil - {{ app.user.lastName }} {{ app.user.firstName }}{% endblock %}



{% block body %}
    <div class="container align-content-center mt-5">
    <div class="row justify-content-between">
    <div class="col-6">
        <div class="border border-secondary p-4 bg-light rounded">
            {% if are_not_unknow %}
                {% if is_friend %}
                    <span class="float-right btn btn-success">Vous Ãªtes amis</span>
                {% elseif waiting_for_accept %}
                    <span class="float-right btn btn-info">En attente..</span>
                {% endif %}
            {% else %}
                <span class="float-right btn btn-primary"><a
                            href="{{ path('add_friend', {'uuid_student': student.uuid}) }}">Ajouter en ami</a></span>
            {% endif %}
            <div class="row">
                <div class="col-5">
                    {% if student.avatar %}
                        <img class="rounded-circle img-fluid" src={{ asset('uploads/avatars/' ~ student.avatar) }}>
                    {% else %}
                        <img class="rounded-circle img-fluid" src="{{ asset('img/tom_bg.jpg') }}">
                    {% endif %}
                </div>
                <div class="col-6">
                    <span> </br> {{ student.biography }} </span>
                </div>
            </div>
            <hr class="border-left-0 border-secondary ">
            <div class="text-center">
                </br>
                <span class="font-weight-bold h4">{{ student.Lastname }} </span>
                <span class="h4"> {{ student.firstName }} </span>
                {% if student.trainingid is not null %}
                    <div> {{ student.trainingid.title }} | {{ student.trainingid.schoolid.name }}
                        | {{ app.user.trainingid.schoolid.city }}</div>
                {% else %}
                    <div> n/a | n/a | n/a</div>
                {% endif %}
            </div>
        </div>
        <div class="border border-secondary p-4 mt-5 bg-light rounded">
            <div class="h5 mb-4"> Competences</div>
            <hr class="border-left-0 border-secondary ">
            {% for i in noteUser %}
                <span>   {{ i.getSubjectid().getName() }} :  </span>
                {% for j in 1..i.mark %}
                    <span class="fa fa-star" style="color:orange"></span>
                {% endfor %}
                <br/>
            {% endfor %}
        </div>
    </div>
    <div class="col-5">
    <div class="border border-secondary p-4 bg-light rounded">
        <div class="h4 text-center">Niveau {{ (student.xpWon / 50)|slice(0,1) }}</div>
        <div class="progress mt-3">
            <div class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0"
                 aria-valuemax="100"
                 style="width:{{ ((student.xpWon)/50)|number_format(2, '.', ',')|slice(2,4) }}%;">
            </div>
        </div>
        <span class="text-center"> Vous avez {{ ((student.xpWon)/50)|number_format(2, '.', ',')|slice(2,4)/2 }} / 50 pour passer le niveau suivant</span>
    </div>
        <div class="border border-secondary p-4 bg-light mt-4 rounded">
        <div class="h5 mb-4"> Badges</div>

            {% for i in student.getBadgeid() %}
                <img src={{ asset("img/tr.png") }} height="50px"> &nbsp;
                {{ i.getName() }}
                <br/> <br/>
            {% endfor %}
        </div>
    </div>



{% endblock %}